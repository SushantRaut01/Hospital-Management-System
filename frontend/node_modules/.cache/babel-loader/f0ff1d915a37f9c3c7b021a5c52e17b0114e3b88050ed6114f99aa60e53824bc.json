{"ast":null,"code":"// AssistantDashboard.jsx\nimport React,{useEffect,useState}from\"react\";import AddPatientForm from\"./AddPatientForm\";import PatientCardMobile from\"./PatientCardMobile\";import PatientTableDesktop from\"./PatientTableDesktop\";import{apiFetch}from\"./api\";// <-- NEW\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AssistantDashboard=()=>{const[patients,setPatients]=useState([]);// Initial fetch\nconst fetchPatients=async()=>{try{const data=await apiFetch(\"/assistant/patients/\");// <-- UPDATED\nsetPatients(data);}catch(err){console.error(\"Fetch error:\",err);}};useEffect(()=>{fetchPatients();},[]);// Append new patient to list\nconst handlePatientAdded=newPatient=>{setPatients(prev=>[newPatient,...prev]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800\",children:\"Assistant Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById(\"popupForm\").classList.remove(\"hidden\"),className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow\",children:\"+ Add Patient\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name or phone\",className:\"w-full md:w-1/3 px-4 py-2 border rounded-lg shadow-sm\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full md:w-1/4 px-4 py-2 border rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Clinic\",children:\"In Clinic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"On Hold\",children:\"On Hold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Emergency\",children:\"Emergency\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-800 text-white px-5 py-2 rounded-lg hover:bg-gray-900\",children:\"Filter\"})]}),/*#__PURE__*/_jsx(PatientTableDesktop,{patients:patients}),/*#__PURE__*/_jsx(PatientCardMobile,{patients:patients})]}),/*#__PURE__*/_jsx(AddPatientForm,{onPatientAdded:handlePatientAdded})]});};export default AssistantDashboard;","map":{"version":3,"names":["React","useEffect","useState","AddPatientForm","PatientCardMobile","PatientTableDesktop","apiFetch","jsx","_jsx","jsxs","_jsxs","AssistantDashboard","patients","setPatients","fetchPatients","data","err","console","error","handlePatientAdded","newPatient","prev","className","children","onClick","document","getElementById","classList","remove","type","placeholder","value","onPatientAdded"],"sources":["/home/ubuntu/Hospital-Management-System/frontend/src/Pages/Assistant/AssistantDashboard.jsx"],"sourcesContent":["// AssistantDashboard.jsx\nimport React, { useEffect, useState } from \"react\";\nimport AddPatientForm from \"./AddPatientForm\";\nimport PatientCardMobile from \"./PatientCardMobile\";\nimport PatientTableDesktop from \"./PatientTableDesktop\";\nimport { apiFetch } from \"./api\";   // <-- NEW\n\nconst AssistantDashboard = () => {\n  const [patients, setPatients] = useState([]);\n\n  // Initial fetch\n  const fetchPatients = async () => {\n    try {\n      const data = await apiFetch(\"/assistant/patients/\");   // <-- UPDATED\n      setPatients(data);\n    } catch (err) {\n      console.error(\"Fetch error:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n\n  // Append new patient to list\n  const handlePatientAdded = (newPatient) => {\n    setPatients((prev) => [newPatient, ...prev]);\n  };\n\n  return (\n    <div className=\"bg-gray-100 min-h-screen p-6\">\n      <div className=\"max-w-7xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-3xl font-bold text-gray-800\">Assistant Dashboard</h1>\n          <button\n            onClick={() => document.getElementById(\"popupForm\").classList.remove(\"hidden\")}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow\"\n          >\n            + Add Patient\n          </button>\n        </div>\n\n        {/* Filter/Search Bar */}\n        <form className=\"flex flex-col md:flex-row gap-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by name or phone\"\n            className=\"w-full md:w-1/3 px-4 py-2 border rounded-lg shadow-sm\"\n          />\n          <select className=\"w-full md:w-1/4 px-4 py-2 border rounded-lg shadow-sm\">\n            <option value=\"\">All Statuses</option>\n            <option value=\"Pending\">Pending</option>\n            <option value=\"In Clinic\">In Clinic</option>\n            <option value=\"On Hold\">On Hold</option>\n            <option value=\"Emergency\">Emergency</option>\n          </select>\n          <button className=\"bg-gray-800 text-white px-5 py-2 rounded-lg hover:bg-gray-900\">Filter</button>\n        </form>\n\n        {/* Patient Table (Desktop) */}\n        <PatientTableDesktop patients={patients} />\n\n        {/* Patient Cards (Mobile) */}\n        <PatientCardMobile patients={patients} />\n      </div>\n\n      {/* Add Patient Popup Form */}\n      <AddPatientForm onPatientAdded={handlePatientAdded} />\n    </div>\n  );\n};\n\nexport default AssistantDashboard;\n\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CACvD,OAASC,QAAQ,KAAQ,OAAO,CAAI;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5C;AACA,KAAM,CAAAY,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAAC,sBAAsB,CAAC,CAAI;AACvDO,WAAW,CAACE,IAAI,CAAC,CACnB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,cAAc,CAAEF,GAAG,CAAC,CACpC,CACF,CAAC,CAEDf,SAAS,CAAC,IAAM,CACda,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAK,kBAAkB,CAAIC,UAAU,EAAK,CACzCP,WAAW,CAAEQ,IAAI,EAAK,CAACD,UAAU,CAAE,GAAGC,IAAI,CAAC,CAAC,CAC9C,CAAC,CAED,mBACEX,KAAA,QAAKY,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3Cb,KAAA,QAAKY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1Cb,KAAA,QAAKY,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDf,IAAA,OAAIc,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACzEf,IAAA,WACEgB,OAAO,CAAEA,CAAA,GAAMC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAE,CAC/EN,SAAS,CAAC,sEAAsE,CAAAC,QAAA,CACjF,eAED,CAAQ,CAAC,EACN,CAAC,cAGNb,KAAA,SAAMY,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC/Cf,IAAA,UACEqB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,yBAAyB,CACrCR,SAAS,CAAC,uDAAuD,CAClE,CAAC,cACFZ,KAAA,WAAQY,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACvEf,IAAA,WAAQuB,KAAK,CAAC,EAAE,CAAAR,QAAA,CAAC,cAAY,CAAQ,CAAC,cACtCf,IAAA,WAAQuB,KAAK,CAAC,SAAS,CAAAR,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCf,IAAA,WAAQuB,KAAK,CAAC,WAAW,CAAAR,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5Cf,IAAA,WAAQuB,KAAK,CAAC,SAAS,CAAAR,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCf,IAAA,WAAQuB,KAAK,CAAC,WAAW,CAAAR,QAAA,CAAC,WAAS,CAAQ,CAAC,EACtC,CAAC,cACTf,IAAA,WAAQc,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC7F,CAAC,cAGPf,IAAA,CAACH,mBAAmB,EAACO,QAAQ,CAAEA,QAAS,CAAE,CAAC,cAG3CJ,IAAA,CAACJ,iBAAiB,EAACQ,QAAQ,CAAEA,QAAS,CAAE,CAAC,EACtC,CAAC,cAGNJ,IAAA,CAACL,cAAc,EAAC6B,cAAc,CAAEb,kBAAmB,CAAE,CAAC,EACnD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}