{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PatientDetails=_ref=>{let{patient}=_ref;const[medName,setMedName]=useState(\"\");const[dose,setDose]=useState(\"\");const[freq,setFreq]=useState(\"\");const[time,setTime]=useState(\"\");const[remarks,setRemarks]=useState(\"\");const[prescriptions,setPrescriptions]=useState([]);const[editIndex,setEditIndex]=useState(null);const[suggestions,setSuggestions]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);const[activeSuggestionIndex,setActiveSuggestionIndex]=useState(0);const inputRef=useRef(null);useEffect(()=>{if(medName.trim()){fetch(\"http://localhost:8000/api/doctor/medicines/?q=\".concat(medName)).then(res=>res.json()).then(data=>{setSuggestions(data);setShowSuggestions(true);setActiveSuggestionIndex(0);});}else{setSuggestions([]);setShowSuggestions(false);}},[medName]);const handleKeyDown=e=>{if(!showSuggestions||suggestions.length===0)return;if(e.key===\"ArrowDown\"){setActiveSuggestionIndex(prev=>(prev+1)%suggestions.length);}else if(e.key===\"ArrowUp\"){setActiveSuggestionIndex(prev=>(prev-1+suggestions.length)%suggestions.length);}else if(e.key===\"Enter\"){e.preventDefault();handleSelectSuggestion(suggestions[activeSuggestionIndex].name);}};const handleSelectSuggestion=name=>{setMedName(name);setShowSuggestions(false);setSuggestions([]);};const resetForm=()=>{setMedName(\"\");setDose(\"\");setFreq(\"\");setTime(\"\");setRemarks(\"\");setEditIndex(null);setSuggestions([]);setShowSuggestions(false);};const handleAddPrescription=e=>{e.preventDefault();const newPrescription={medName,dose,freq,time,remarks};if(editIndex!==null){const updated=[...prescriptions];updated[editIndex]=newPrescription;setPrescriptions(updated);}else{setPrescriptions([...prescriptions,newPrescription]);}resetForm();};const handleEdit=index=>{const p=prescriptions[index];setMedName(p.medName);setDose(p.dose);setFreq(p.freq);setTime(p.time);setRemarks(p.remarks);setEditIndex(index);};const handleDelete=index=>{const updated=prescriptions.filter((_,i)=>i!==index);setPrescriptions(updated);if(editIndex===index)resetForm();};const handlePrint=()=>window.print();const handleSaveToBackend=async()=>{if(prescriptions.length===0){alert(\"Add at least one medicine.\");return;}const payload={patient_id:patient.pid,medicines:prescriptions};try{const res=await fetch(\"http://localhost:8000/api/doctor/save-prescription/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});const data=await res.json();if(res.ok){alert(\"‚úÖ Prescription saved!\");setPrescriptions([]);}else{alert(\"‚ùå Error: \"+(data.error||\"Failed to save.\"));}}catch(err){console.error(err);alert(\"‚ùå Server error.\");}};if(!patient)return/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Select a patient to start prescribing.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow space-y-6 print:p-0 print:shadow-none print:bg-white w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2\",children:patient.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 text-gray-800 text-lg\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",patient.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Weight:\"}),\" \",patient.weight,\"kg\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",patient.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",patient.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vitals:\"}),\" \",patient.vitals]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Allergies:\"}),\" \",patient.allergies]})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddPrescription,className:\"space-y-4 relative\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"Add Prescription\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:medName,onChange:e=>setMedName(e.target.value),onKeyDown:handleKeyDown,type:\"text\",placeholder:\"Search medicine name\",className:\"w-full px-4 py-3 border rounded text-xl focus:outline-blue-500\",onFocus:()=>medName&&setShowSuggestions(true),onBlur:()=>setTimeout(()=>setShowSuggestions(false),100),required:true}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-50 bg-white border border-gray-300 w-full rounded shadow-xl mt-1 max-h-[250px] overflow-y-auto no-scrollbar\",children:suggestions.map((med,idx)=>/*#__PURE__*/_jsx(\"li\",{className:\"px-4 py-3 border-b border-gray-200 text-lg cursor-pointer \".concat(idx===activeSuggestionIndex?\"bg-blue-100 font-semibold\":\"hover:bg-blue-50\"),onMouseDown:()=>handleSelectSuggestion(med.name),children:med.name},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:dose,onChange:e=>setDose(e.target.value),required:true,className:\"px-4 py-3 border rounded text-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Dose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1 tab\",children:\"1 tab\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2 tab\",children:\"2 tab\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5 ml\",children:\"5 ml\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10 ml\",children:\"10 ml\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:freq,onChange:e=>setFreq(e.target.value),required:true,className:\"px-4 py-3 border rounded text-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Frequency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Once a day\",children:\"Once a day\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Twice a day\",children:\"Twice a day\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Thrice a day\",children:\"Thrice a day\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:time,onChange:e=>setTime(e.target.value),required:true,className:\"px-4 py-3 border rounded text-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Morning\",children:\"Morning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Afternoon\",children:\"Afternoon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Night\",children:\"Night\"})]})]}),/*#__PURE__*/_jsx(\"textarea\",{value:remarks,onChange:e=>setRemarks(e.target.value),rows:2,placeholder:\"Remarks (optional)\",className:\"w-full px-4 py-3 border rounded text-lg\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"\".concat(editIndex!==null?\"bg-yellow-600\":\"bg-blue-600\",\" text-white text-lg px-6 py-3 rounded hover:opacity-90\"),children:editIndex!==null?\"Update Medicine\":\"Add Medicine\"})]}),prescriptions.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mt-6 mb-2\",children:\"Prescribed Medicines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-[900px] w-full text-lg border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"Medicine\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"Dose\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"Frequency\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3\",children:\"Remarks\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-3 print:hidden\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:prescriptions.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3 text-center\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3\",children:item.medName}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3\",children:item.dose}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3\",children:item.freq}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3\",children:item.time}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-3\",children:item.remarks}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-4 py-3 print:hidden text-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(index),className:\"bg-yellow-500 text-white px-4 py-2 mr-2 rounded hover:bg-yellow-600\",children:\"\\u270F\\uFE0F Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),className:\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]},index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"print:hidden flex gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrint,className:\"bg-green-600 text-white text-lg px-6 py-3 rounded hover:bg-green-700\",children:\"\\uD83D\\uDDA8\\uFE0F Print Prescription\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToBackend,className:\"bg-blue-700 text-white text-lg px-6 py-3 rounded hover:bg-blue-800\",children:\"\\uD83D\\uDCBE Save to Backend\"})]})]})]});};export default PatientDetails;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","PatientDetails","_ref","patient","medName","setMedName","dose","setDose","freq","setFreq","time","setTime","remarks","setRemarks","prescriptions","setPrescriptions","editIndex","setEditIndex","suggestions","setSuggestions","showSuggestions","setShowSuggestions","activeSuggestionIndex","setActiveSuggestionIndex","inputRef","trim","fetch","concat","then","res","json","data","handleKeyDown","e","length","key","prev","preventDefault","handleSelectSuggestion","name","resetForm","handleAddPrescription","newPrescription","updated","handleEdit","index","p","handleDelete","filter","_","i","handlePrint","window","print","handleSaveToBackend","alert","payload","patient_id","pid","medicines","method","headers","body","JSON","stringify","ok","error","err","console","className","children","age","weight","phone","address","vitals","allergies","onSubmit","ref","value","onChange","target","onKeyDown","type","placeholder","onFocus","onBlur","setTimeout","required","map","med","idx","onMouseDown","rows","item","onClick"],"sources":["/home/ubuntu/Hospital-Management-System/frontend/src/Pages/Doctor/components/PatientDetails.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nconst PatientDetails = ({ patient }) => {\n  const [medName, setMedName] = useState(\"\");\n  const [dose, setDose] = useState(\"\");\n  const [freq, setFreq] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [remarks, setRemarks] = useState(\"\");\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [editIndex, setEditIndex] = useState(null);\n\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (medName.trim()) {\n      fetch(`http://localhost:8000/api/doctor/medicines/?q=${medName}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setSuggestions(data);\n          setShowSuggestions(true);\n          setActiveSuggestionIndex(0);\n        });\n    } else {\n      setSuggestions([]);\n      setShowSuggestions(false);\n    }\n  }, [medName]);\n\n  const handleKeyDown = (e) => {\n    if (!showSuggestions || suggestions.length === 0) return;\n    if (e.key === \"ArrowDown\") {\n      setActiveSuggestionIndex((prev) => (prev + 1) % suggestions.length);\n    } else if (e.key === \"ArrowUp\") {\n      setActiveSuggestionIndex((prev) => (prev - 1 + suggestions.length) % suggestions.length);\n    } else if (e.key === \"Enter\") {\n      e.preventDefault();\n      handleSelectSuggestion(suggestions[activeSuggestionIndex].name);\n    }\n  };\n\n  const handleSelectSuggestion = (name) => {\n    setMedName(name);\n    setShowSuggestions(false);\n    setSuggestions([]);\n  };\n\n  const resetForm = () => {\n    setMedName(\"\");\n    setDose(\"\");\n    setFreq(\"\");\n    setTime(\"\");\n    setRemarks(\"\");\n    setEditIndex(null);\n    setSuggestions([]);\n    setShowSuggestions(false);\n  };\n\n  const handleAddPrescription = (e) => {\n    e.preventDefault();\n    const newPrescription = { medName, dose, freq, time, remarks };\n\n    if (editIndex !== null) {\n      const updated = [...prescriptions];\n      updated[editIndex] = newPrescription;\n      setPrescriptions(updated);\n    } else {\n      setPrescriptions([...prescriptions, newPrescription]);\n    }\n    resetForm();\n  };\n\n  const handleEdit = (index) => {\n    const p = prescriptions[index];\n    setMedName(p.medName);\n    setDose(p.dose);\n    setFreq(p.freq);\n    setTime(p.time);\n    setRemarks(p.remarks);\n    setEditIndex(index);\n  };\n\n  const handleDelete = (index) => {\n    const updated = prescriptions.filter((_, i) => i !== index);\n    setPrescriptions(updated);\n    if (editIndex === index) resetForm();\n  };\n\n  const handlePrint = () => window.print();\n\n  const handleSaveToBackend = async () => {\n    if (prescriptions.length === 0) {\n      alert(\"Add at least one medicine.\");\n      return;\n    }\n\n    const payload = {\n      patient_id: patient.pid,\n      medicines: prescriptions,\n    };\n\n    try {\n      const res = await fetch(\"http://localhost:8000/api/doctor/save-prescription/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        alert(\"‚úÖ Prescription saved!\");\n        setPrescriptions([]);\n      } else {\n        alert(\"‚ùå Error: \" + (data.error || \"Failed to save.\"));\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"‚ùå Server error.\");\n    }\n  };\n\n  if (!patient) return <p className=\"text-gray-500\">Select a patient to start prescribing.</p>;\n\n  return (\n    <div className=\"bg-white p-6 rounded shadow space-y-6 print:p-0 print:shadow-none print:bg-white w-full\">\n      <div>\n        <h2 className=\"text-2xl font-bold mb-2\">{patient.name}</h2>\n        <div className=\"grid grid-cols-2 gap-2 text-gray-800 text-lg\">\n          <p><strong>Age:</strong> {patient.age}</p>\n          <p><strong>Weight:</strong> {patient.weight}kg</p>\n          <p><strong>Phone:</strong> {patient.phone}</p>\n          <p><strong>Address:</strong> {patient.address}</p>\n          <p><strong>Vitals:</strong> {patient.vitals}</p>\n          <p><strong>Allergies:</strong> {patient.allergies}</p>\n        </div>\n      </div>\n\n      <form onSubmit={handleAddPrescription} className=\"space-y-4 relative\">\n        <h3 className=\"text-xl font-semibold\">Add Prescription</h3>\n        <div className=\"relative\">\n          <input\n            ref={inputRef}\n            value={medName}\n            onChange={(e) => setMedName(e.target.value)}\n            onKeyDown={handleKeyDown}\n            type=\"text\"\n            placeholder=\"Search medicine name\"\n            className=\"w-full px-4 py-3 border rounded text-xl focus:outline-blue-500\"\n            onFocus={() => medName && setShowSuggestions(true)}\n            onBlur={() => setTimeout(() => setShowSuggestions(false), 100)}\n            required\n          />\n          {showSuggestions && suggestions.length > 0 && (\n            <ul className=\"absolute z-50 bg-white border border-gray-300 w-full rounded shadow-xl mt-1 max-h-[250px] overflow-y-auto no-scrollbar\">\n              {suggestions.map((med, idx) => (\n                <li\n                  key={idx}\n                  className={`px-4 py-3 border-b border-gray-200 text-lg cursor-pointer ${\n                    idx === activeSuggestionIndex\n                      ? \"bg-blue-100 font-semibold\"\n                      : \"hover:bg-blue-50\"\n                  }`}\n                  onMouseDown={() => handleSelectSuggestion(med.name)}\n                >\n                  {med.name}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <select value={dose} onChange={(e) => setDose(e.target.value)} required className=\"px-4 py-3 border rounded text-lg\">\n            <option value=\"\">Select Dose</option>\n            <option value=\"1 tab\">1 tab</option>\n            <option value=\"2 tab\">2 tab</option>\n            <option value=\"5 ml\">5 ml</option>\n            <option value=\"10 ml\">10 ml</option>\n          </select>\n\n          <select value={freq} onChange={(e) => setFreq(e.target.value)} required className=\"px-4 py-3 border rounded text-lg\">\n            <option value=\"\">Select Frequency</option>\n            <option value=\"Once a day\">Once a day</option>\n            <option value=\"Twice a day\">Twice a day</option>\n            <option value=\"Thrice a day\">Thrice a day</option>\n          </select>\n\n          <select value={time} onChange={(e) => setTime(e.target.value)} required className=\"px-4 py-3 border rounded text-lg\">\n            <option value=\"\">Select Time</option>\n            <option value=\"Morning\">Morning</option>\n            <option value=\"Afternoon\">Afternoon</option>\n            <option value=\"Night\">Night</option>\n          </select>\n        </div>\n\n        <textarea\n          value={remarks}\n          onChange={(e) => setRemarks(e.target.value)}\n          rows={2}\n          placeholder=\"Remarks (optional)\"\n          className=\"w-full px-4 py-3 border rounded text-lg\"\n        />\n\n        <button\n          type=\"submit\"\n          className={`${\n            editIndex !== null ? \"bg-yellow-600\" : \"bg-blue-600\"\n          } text-white text-lg px-6 py-3 rounded hover:opacity-90`}\n        >\n          {editIndex !== null ? \"Update Medicine\" : \"Add Medicine\"}\n        </button>\n      </form>\n\n      {prescriptions.length > 0 && (\n        <div>\n          <h3 className=\"text-xl font-semibold mt-6 mb-2\">Prescribed Medicines</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-[900px] w-full text-lg border border-gray-300\">\n              <thead className=\"bg-gray-100\">\n                <tr>\n                  <th className=\"border px-4 py-3\">#</th>\n                  <th className=\"border px-4 py-3\">Medicine</th>\n                  <th className=\"border px-4 py-3\">Dose</th>\n                  <th className=\"border px-4 py-3\">Frequency</th>\n                  <th className=\"border px-4 py-3\">Time</th>\n                  <th className=\"border px-4 py-3\">Remarks</th>\n                  <th className=\"border px-4 py-3 print:hidden\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {prescriptions.map((item, index) => (\n                  <tr key={index}>\n                    <td className=\"border px-4 py-3 text-center\">{index + 1}</td>\n                    <td className=\"border px-4 py-3\">{item.medName}</td>\n                    <td className=\"border px-4 py-3\">{item.dose}</td>\n                    <td className=\"border px-4 py-3\">{item.freq}</td>\n                    <td className=\"border px-4 py-3\">{item.time}</td>\n                    <td className=\"border px-4 py-3\">{item.remarks}</td>\n                    <td className=\"border px-4 py-3 print:hidden text-center\">\n                      <button\n                        onClick={() => handleEdit(index)}\n                        className=\"bg-yellow-500 text-white px-4 py-2 mr-2 rounded hover:bg-yellow-600\"\n                      >\n                        ‚úèÔ∏è Edit\n                      </button>\n                      <button\n                        onClick={() => handleDelete(index)}\n                        className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\n                      >\n                        üóëÔ∏è Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"print:hidden flex gap-4 mt-4\">\n            <button\n              onClick={handlePrint}\n              className=\"bg-green-600 text-white text-lg px-6 py-3 rounded hover:bg-green-700\"\n            >\n              üñ®Ô∏è Print Prescription\n            </button>\n            <button\n              onClick={handleSaveToBackend}\n              className=\"bg-blue-700 text-white text-lg px-6 py-3 rounded hover:bg-blue-800\"\n            >\n              üíæ Save to Backend\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PatientDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}